<%= render current_user.class == Teacher ? 'teachers/sidebar' : 'students/sidebar' %>
<div class="main">
  <%=render 'layouts/header', notifications: current_user.notifications.where(read: false)%>
  <div class="main-content">
  <ul class="nav nav-tabs" role="tablist">
    <li><%= link_to 'Danh sách nhóm', sclass_groups_path(@sclass) %></li>
    <li class="active"><%= link_to 'Danh sách bài tập nhóm', sclass_topics_path(@sclass) %></li>
  </ul>
    <div class="panel">
      <div class="panel-heading">
        <h3 class="panel-title"><%= @sclass.subject.name%> - Danh sách bài tập nhóm</h3>
      </div>
      <div class="panel-body">
      <table class="table table-hover" style="width:100%" border="1" margin="center">
       <tr>
          <td><b>#</b></td>
          <td><b>Tiêu đề</b></td>
          <td><b>Trọng số</b></td>
          <td><b>Deadline</b></td>
          <td><b>Tình trạng</b></td>
          <td><b>Công cụ</b></td>
        </tr>
          <%@topics.each_with_index do |topic, index|%>
            <%=render topic, sclass: @sclass, index: index%>
          <%end%>
      </table>
      <%=render 'form', topic: Topic.new%>
      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#topicModal">Thêm bài tập nhóm</button>
      <%=will_paginate @topics%>
      </div>
    </div>
  </div>
  <footer>
    
  </footer>
</div>

<script>
  $(document).ready(function(){
    $('.datetimepicker').datetimepicker();
    $('.editable').on('click', function(){
      id = $(this).attr('id');
      $(this).addClass('hidden');
      $("#"+id+"-container").removeClass('hidden');
    });
    $("[id$=-input]").blur(function(){
      data = $(this).attr('id').split('-');
      $("#"+data[0]+"-"+data[1]+"-"+data[2]+"-"+"form").submit();
    })
  })
</script>